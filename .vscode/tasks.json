{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "üì¶ Docker - Status dos Containers",
            "type": "shell",
            "command": "docker ps"
        },
        {
            "label": "üì¶ Docker - PHP Version",
            "type": "shell",
            "command": "docker exec conn2flow-app bash -c \"php -v\""
        },
        {
            "label": "üì¶ Docker - Logs Apache > 50 Linhas",
            "type": "shell",
            "command": "docker logs conn2flow-app --tail 50"
        },
        {
            "label": "üì¶ Docker - Logs Apache > Tempo Real",
            "type": "shell",
            "command": "docker logs conn2flow-app --tail 50 --follow"
        },
        {
            "label": "üì¶ Docker - Logs PHP Truncate",
            "type": "shell",
            "command": "docker exec conn2flow-app bash -c \"truncate -s 0 /var/log/php_errors.log\""
        },
        {
            "label": "üì¶ Docker - Logs PHP > 50 Linhas",
            "type": "shell",
            "command": "docker exec conn2flow-app bash -c \"tail -50 /var/log/php_errors.log\""
        },
        {
            "label": "üì¶ Docker - Logs PHP > Tempo Real",
            "type": "shell",
            "command": "docker exec conn2flow-app bash -c \"tail -f /var/log/php_errors.log\""
        },
        {
            "label": "üåê GIT - Release Gestor",
            "type": "shell",
            "command": "bash ./ai-workspace/git/scripts/release.sh ${input:tipo} \"${input:tagMsg}\" \"${input:commitMsg}\""
        },
        {
            "label": "üåê GIT - Release Instalador",
            "type": "shell",
            "command": "bash ./ai-workspace/git/scripts/release-instalador.sh ${input:tipo} \"${input:tagMsg}\" \"${input:commitMsg}\""
        },
        {
            "label": "üåê GIT - Commit Gestor",
            "type": "shell",
            "command": "bash ./ai-workspace/git/scripts/commit.sh \"${input:commitMsg}\""
        },
        {
            "label": "üñ•Ô∏è Atualiza√ß√£o - Recursos",
            "type": "shell",
            "command": "php ./gestor/controladores/agents/arquitetura/atualizacao-dados-recursos.php"
        },
        {
            "label": "üñ•Ô∏è Atualiza√ß√£o - Sincronizar Gestor",
            "type": "shell",
            "command": "bash docker/utils/sincroniza-gestor.sh checksum"
        },
        {
            "label": "üñ•Ô∏è Atualiza√ß√£o - Dados",
            "type": "shell",
            "command": "docker exec conn2flow-app bash -c \"php /var/www/sites/localhost/conn2flow-gestor/controladores/atualizacoes/atualizacoes-banco-de-dados.php --debug --log-diff\""
        },
        {
            "label": "üñ•Ô∏è Atualiza√ß√£o - COMPLETA üöÄ",
            // Note que esta tarefa N√ÉO tem a propriedade "command".
            // Ela serve apenas para orquestrar as outras.
            "dependsOn": [
                // Coloque aqui os "labels" EXATOS das tarefas que voc√™ quer executar, na ordem.
                "üñ•Ô∏è Atualiza√ß√£o - Recursos",
                "üñ•Ô∏è Atualiza√ß√£o - Sincronizar Gestor",
                "üñ•Ô∏è Atualiza√ß√£o - Dados"
            ],
            // Esta √© a propriedade m√°gica que garante a execu√ß√£o em sequ√™ncia!
            "dependsOrder": "sequence"
        },
        {
            "label": "‚ôªÔ∏è Sincroniza√ß√£o - Testes",
            "type": "shell",
            "command": "bash docker/utils/sincroniza-teste.sh checksum"
        },
        {
            "label": "‚ôªÔ∏è Sincroniza√ß√£o - Sincronizar Gestor",
            "type": "shell",
            "command": "bash docker/utils/sincroniza-gestor.sh checksum"
        },
        {
            "label": "‚ôªÔ∏è Sincroniza√ß√£o - Sincronizar Gestor Instalador",
            "type": "shell",
            "command": "bash ./docker/utils/sincroniza-gestor-instalador.sh checksum"
        },
        {
            "label": "‚ôªÔ∏è Sincroniza√ß√£o - Build Local Gestor",
            "type": "shell",
            "command": "bash ./ai-workspace/scripts/atualizacoes/build-local-gestor.sh"
        }
    ],
    "inputs": [
        {
            "id": "tipo",
            "description": "‚úîÔ∏è Tipo de Release (patch, minor, major) ‚úîÔ∏è",
            "type": "promptString"
        },
        {
            "id": "tagMsg",
            "description": "‚ùî Mensagem da TAG ‚ùî",
            "type": "promptString"
        },
        {
            "id": "commitMsg",
            "description": "‚ùî Mensagem do Commit ‚ùî",
            "type": "promptString"
        }
    ]
}